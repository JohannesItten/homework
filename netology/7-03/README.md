# Подъём инфраструктуры в Yandex Cloud - Сергеев Дмитрий
### Задание 1 

Повторить демонстрацию лекции(развернуть vpc, 2 веб сервера, бастион сервер)

### Задание 2 

С помощью ansible подключиться к web-a и web-b , установить на них nginx.(написать нужный ansible playbook)


Провести тестирование и приложить скриншоты развернутых в облаке ВМ, успешно отработавшего ansible playbook. 

### Ответ 1 и 2
![Список созданных ВМ](./assets/vm-list.png) 
![Результат выполнения плейбука](./assets/playbook-2.png) 
---

## Дополнительные задания* (со звёздочкой)

Их выполнение необязательное и не влияет на получение зачёта по домашнему заданию. Можете их решить, если хотите глубже и/или шире разобраться в материале.

--- 
### Задание 3*

**Выполните действия, приложите скриншот скриптов, скриншот выполненного проекта.**

1. Добавить еще одну виртуальную машину. 
2. Установить на нее любую базу данных. 
3. Выполнить проверку состояния запущенных служб через Ansible.

### Ответ 3*
Отклонился от задания, но сути не меняет. Поставил Traefik на новую виртуальную машину (не самым правильным путем, но работает). Я просто хотел поиграться немного с сетями и файрволлом.
![Список созданных ВМ](./assets/vm-list-3.png) 
![Результат выполнения плейбука](./assets/playbook-3.png)
![Traefik curl](./assets/traefik-curl.png)
![Traefik browser](./assets/traefik-browser.png)
![Traefik ingress](./assets/traefik-ingress.png)
![Traefik egress](./assets/traefik-egress.png) 

--- 
### Задание 4*
Изучите [инструкцию](https://cloud.yandex.ru/docs/tutorials/infrastructure-management/terraform-quickstart) yandex для terraform.
Добейтесь работы паплайна с безопасной передачей токена от облака в terraform через переменные окружения. Для этого:

1. Настройте профиль для yc tools по инструкции.
2. Удалите из кода строчку "token = var.yandex_cloud_token". Terraform будет считывать значение ENV переменной YC_TOKEN.
3. Выполните команду export YC_TOKEN=$(yc iam create-token) и в том же shell запустите terraform.
4. Для того чтобы вам не нужно было каждый раз выполнять export - добавьте данную команду в самый конец файла ~/.bashrc

### Ответ 4*
Сделано, но я за исключением этого задания использовал *.tfvars. В проекте файла нет, т.к. добавлен в .gitignore

---